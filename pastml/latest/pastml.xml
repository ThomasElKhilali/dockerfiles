<tool id="pastml" name="PASTML" version="0.1" force_history_refresh="True">

    <description>visualisation of annotated phylogenetic trees (as html maps)</description>

	<command interpreter="python">
        cytopast_main.py --tree $tree --data $states --data_sep $data_sep
                        --id_index $id_index
                        --name_column $name_column --model $model
	</command>
	<inputs>
		<param name="tree" type="data" optional="false" format="txt,nw,nwk,nhx,newick,tree" label="Newick file"/>
		<param name="states" type="data" optional="false" format="txt,tab,csv" ftype="tabular" label="Annotation file (csv or tab table)"/>
		<param name="data_sep" type="text" optional="true" size="1" value=" "
               label="Annotation file separator, e.g. , for csv files."/>
		<param name="id_index" type="integer"  optional="true" size="4" value="0" min="0"
               label="Number of the column containing tip ids (starting from 0)"/>
        <param name="name_column" type="data_column"  optional="true" data_ref="states" label="State column to be used as a name"/>
		<param name="model" type="select" label="evolutionary model">
		      <option value="JC" selected="true">JC</option>
		      <option value="F81">F81</option>
		</param>
	</inputs>

	<outputs>
        <data name="html_compressed" format="html" label="${tree.name}.html" from_work_dir="*.html">
	       <filter>ext == "html"</filter>
		</data>
	</outputs>
	<help>
	</help>
</tool>